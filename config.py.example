"""
全局配置文件示例
请复制此文件为 config.py 并填入你的实际配置
"""
import os
from pathlib import Path

# 项目根目录
PROJECT_ROOT = Path(__file__).parent

# API 配置
GOOGLE_ASR_CREDENTIALS_PATH = os.getenv(
    "GOOGLE_ASR_CREDENTIALS_PATH",
    str(PROJECT_ROOT / "asr" / "your-google-credentials.json")
)

# LLM 配置
LLM_API_KEY = os.getenv("LLM_API_KEY", "your-huggingface-api-key-here")
LLM_API_URL = os.getenv("LLM_API_URL", "https://router.huggingface.co/v1/chat/completions")
MODEL = "meta-llama/Llama-3.2-1B-Instruct"

# 音频配置
AUDIO_SAMPLE_RATE = 16000
AUDIO_CHANNELS = 1
AUDIO_CHUNK_SIZE = 1024
AUDIO_FORMAT = "flac"  # 或 "wav"
AUDIO_TEMP_DIR = PROJECT_ROOT / "temp" / "audio"
AUDIO_TEMP_FILE = AUDIO_TEMP_DIR / "tts_output.wav"
PIPER_MODEL_PATH = PROJECT_ROOT / "tts" / "model" / "en_US-danny-low.onnx"

# ASR 模型配置
VOSK_MODEL_PATH = PROJECT_ROOT / "asr" / "model"

# ASR 结果保存配置
ASR_RESULT_DIR = PROJECT_ROOT / "temp" / "asr_results"
ASR_RESULT_FILE = ASR_RESULT_DIR / "asr_results.txt"

# UI 配置
UI_WIDTH = 320
UI_HEIGHT = 240
UI_BG_COLOR = (20, 20, 30)
UI_TEXT_COLOR = (255, 255, 255)
UI_FONT_SIZE = 24

# 视频配置
LISTENING_VIDEO_PATH = PROJECT_ROOT / "resources" / "santa.mp4"
# 如果不存在，尝试 MagicMirror 目录
if not LISTENING_VIDEO_PATH.exists():
    LISTENING_VIDEO_PATH = PROJECT_ROOT.parent / "MagicMirror" / "resource" / "listening.mp4"

# 唤醒配置
WAKE_KEY = "space"  # 空格键唤醒，后续可扩展为唤醒词

# 新闻 API 配置
NEWS_API_KEY = os.getenv("NEWS_API_KEY", "")  # NewsAPI.org 的 API key（可选）
NEWS_API_URL = "https://newsapi.org/v2/top-headlines"

# 日志配置
LOG_LEVEL = "INFO"
LOG_FILE = PROJECT_ROOT / "logs" / "assistant.log"

# 确保必要的目录存在
AUDIO_TEMP_DIR.mkdir(parents=True, exist_ok=True)
LOG_FILE.parent.mkdir(parents=True, exist_ok=True)
ASR_RESULT_DIR.mkdir(parents=True, exist_ok=True)

